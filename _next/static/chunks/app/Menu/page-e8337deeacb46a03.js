(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[440],{115:(e,t,r)=>{"use strict";r.d(t,{M:()=>s});var a=r(2115);let s=()=>{let[e,t]=(0,a.useState)([]),[r,s]=(0,a.useState)([]),[l,n]=(0,a.useState)(!1);(0,a.useEffect)(()=>{try{let e=localStorage.getItem("categories"),r=localStorage.getItem("menus");if(e){let r=JSON.parse(e);t(Array.isArray(r)?r:[])}if(r){let e=JSON.parse(r);s(Array.isArray(e)?e:[])}}catch(e){console.error("Error loading data from localStorage:",e),t([]),s([])}finally{n(!0)}},[]);let o=(e,r)=>{try{localStorage.setItem("categories",JSON.stringify(e||[])),localStorage.setItem("menus",JSON.stringify(r||[])),t(Array.isArray(e)?e:[]),s(Array.isArray(r)?r:[])}catch(e){console.error("Error saving to localStorage:",e)}};return{categories:Array.isArray(e)?e:[],menus:Array.isArray(r)?r:[],isLoaded:l,setCategories:t,setMenus:s,saveToLocalStorage:o,addMenu:t=>{if(!t||!t.name||void 0===t.price)return void console.error("Invalid menu data for adding:",t);o(e,[...Array.isArray(r)?r:[],{...t,id:t.id||Date.now()+Math.random()}])},updateMenu:t=>{if(!t||void 0===t.id)return void console.error("Invalid menu data:",t);o(e,(Array.isArray(r)?r:[]).map(e=>e.id===t.id?{...e,...t}:e))},deleteMenu:t=>{if(null==t)return void console.error("Invalid menu ID for deletion:",t);o(e,(Array.isArray(r)?r:[]).filter(e=>e.id!==t))},addCategory:t=>{o([...Array.isArray(e)?e:[],t],r)},updateCategory:t=>{o((Array.isArray(e)?e:[]).map(e=>e.id===t.id?t:e),r)},deleteCategory:t=>{let a=Array.isArray(e)?e:[],s=Array.isArray(r)?r:[];o(a.filter(e=>e.id!==t),s.filter(e=>e.categoryId!==t))}}}},285:(e,t,r)=>{"use strict";r.d(t,{$:()=>i});var a=r(5155);r(2115);var s=r(9708),l=r(2085),n=r(9434);let o=(0,l.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function i(e){let{className:t,variant:r,size:l,asChild:i=!1,...c}=e,d=i?s.DX:"button";return(0,a.jsx)(d,{"data-slot":"button",className:(0,n.cn)(o({variant:r,size:l,className:t})),...c})}},1676:(e,t,r)=>{Promise.resolve().then(r.bind(r,9245))},2383:()=>{},3686:()=>{},9245:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>A});var a=r(5155),s=r(2115),l=r(3925),n=r(285),o=r(4862),i=r(9434);function c(e){let{...t}=e;return(0,a.jsx)(o.bL,{"data-slot":"alert-dialog",...t})}function d(e){let{...t}=e;return(0,a.jsx)(o.l9,{"data-slot":"alert-dialog-trigger",...t})}function g(e){let{...t}=e;return(0,a.jsx)(o.ZL,{"data-slot":"alert-dialog-portal",...t})}function m(e){let{className:t,...r}=e;return(0,a.jsx)(o.hJ,{"data-slot":"alert-dialog-overlay",className:(0,i.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...r})}function u(e){let{className:t,...r}=e;return(0,a.jsxs)(g,{children:[(0,a.jsx)(m,{}),(0,a.jsx)(o.UC,{"data-slot":"alert-dialog-content",className:(0,i.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...r})]})}function x(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"alert-dialog-header",className:(0,i.cn)("flex flex-col gap-2 text-center sm:text-left",t),...r})}function p(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"alert-dialog-footer",className:(0,i.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...r})}function h(e){let{className:t,...r}=e;return(0,a.jsx)(o.hE,{"data-slot":"alert-dialog-title",className:(0,i.cn)("text-lg font-semibold",t),...r})}function y(e){let{className:t,...r}=e;return(0,a.jsx)(o.VY,{"data-slot":"alert-dialog-description",className:(0,i.cn)("text-muted-foreground text-sm",t),...r})}var b=r(115);function f(){let[e,t]=(0,s.useState)(!1),[r,o]=(0,s.useState)(!1),[i,g]=(0,s.useState)(null),m=(0,s.useRef)(null),{setMenus:f,setCategories:v,saveToLocalStorage:j}=(0,b.M)();return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("input",{type:"file",accept:".xlsx,.xls",ref:m,onChange:e=>{e.target.files&&e.target.files.length>0&&g(e.target.files[0])},disabled:e,className:"hidden"}),(0,a.jsx)(n.$,{onClick:()=>{var e;return null==(e=m.current)?void 0:e.click()},disabled:e,children:"Excelファイルを選択"}),(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:i?i.name:"ファイル未選択"})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(c,{open:r,onOpenChange:o,children:[(0,a.jsx)(d,{asChild:!0,children:(0,a.jsx)(n.$,{disabled:e||!i,children:"メニュー登録（Excelから）"})}),(0,a.jsxs)(u,{children:[(0,a.jsxs)(x,{children:[(0,a.jsx)(h,{children:"確認"}),(0,a.jsx)(y,{children:"既存のメニューをすべて削除して、新しいExcelデータで登録します。よろしいですか？"})]}),(0,a.jsxs)(p,{children:[(0,a.jsx)(n.$,{variant:"outline",onClick:()=>o(!1),children:"キャンセル"}),(0,a.jsx)(n.$,{onClick:()=>{if(!i)return void alert("Excelファイルを選択してください");t(!0);let e=new FileReader;e.onload=e=>{var r;let a=null==(r=e.target)?void 0:r.result;if(!a){alert("ファイルの読み込みに失敗しました"),t(!1);return}let s=l.LF(a,{type:"binary"}),n=s.Sheets[s.SheetNames[0]],i=l.Wp.sheet_to_json(n);try{let e=i.map(e=>({id:Number(e.id),categoryId:Number(e.categoryId),categoryName:e.categoryName,name:e.name,price:Number(e.price),stock:Number(e.stock)})),t=new Map;e.forEach(e=>{t.has(e.categoryId)||t.set(e.categoryId,{id:e.categoryId,name:e.categoryName})});let r=Array.from(t.values());j(r,e),v(r),f(e),localStorage.removeItem("salesHistory"),location.reload(),alert("メニュー登録が完了しました")}catch(e){console.error(e),alert("Excelデータの解析に失敗しました")}finally{t(!1),o(!1)}},e.readAsBinaryString(i)},disabled:e||!i,children:e?"処理中...":"はい、実行します"})]})]})]}),(0,a.jsx)(n.$,{variant:"destructive",onClick:()=>{confirm("すべての登録メニューを削除します。よろしいですか？")&&(localStorage.removeItem("salesHistory"),v([]),f([]),j([],[]),g(null),location.reload(),alert("登録メニューを削除しました"))},disabled:e,children:"登録メニューをすべて削除"})]})]})}let v=()=>{let{categories:e,menus:t,setCategories:r,setMenus:a,saveToLocalStorage:s}=(0,b.M)(),l=e=>e.map((e,t)=>({...e,id:t+1})),n=(e,t)=>{let n=l(e);r(n),a(t),s(n,t)};return{UpdateMenu:r=>{n(e,t.map(e=>e.id===r.id?{...r}:e))},UpdateAndSave:n,AddMenu:r=>{let{categoryId:a,name:s,price:l,stock:o}=r,i=e.find(e=>e.id===a);if(!i||!s.trim()||!l||!o)return;let c={id:(t.length?Math.max(...t.map(e=>e.id)):0)+1,categoryId:i.id,categoryName:i.name,name:s.trim(),price:l,stock:o};n(e,[...t,c])},DeleteMenu:r=>{n(e,t.filter(e=>e.id!==r))}}},j=(e,t)=>{let[r,a]=(0,s.useState)(""),{UpdateAndSave:l}=v();return{newCategory:r,setNewCategory:a,handleAddCategory:()=>{r&&!e.find(e=>e.name===r)&&(l([...e,{id:e.length+1,name:r}],t),a(""))},moveCategory:(r,a)=>{let s=[...e],n="up"===a?r-1:r+1;n<0||n>=s.length||([s[r],s[n]]=[s[n],s[r]],l(s,t))},handleDeleteCategory:r=>{l(e.filter(e=>e.id!==r),t.filter(e=>e.categoryId!==r))},handleReorderCategories:(r,a)=>{let s=[...e],[n]=s.splice(r,1);s.splice(a,0,n),l(s,t)}}},N=()=>{let[e,t]=(0,s.useState)(null),[r,l]=(0,s.useState)(null),[n,o]=(0,s.useState)(!1),{categories:i,menus:c}=(0,b.M)(),{newCategory:d,setNewCategory:g,handleAddCategory:m,moveCategory:u,handleDeleteCategory:x,handleReorderCategories:p}=j(i,c),h=(e,r)=>{t(r),e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/html","")},y=(e,t)=>{e.preventDefault(),e.dataTransfer.dropEffect="move",l(t)},f=()=>{l(null)},v=(r,a)=>{r.preventDefault(),null!==e&&e!==a&&p(e,a),t(null),l(null)},N=()=>{t(null),l(null)},w=(e,t)=>{window.confirm("カテゴリ「".concat(t,"」を削除しますか？\n※このカテゴリのメニューも削除されます。"))&&x(e)};return(0,a.jsxs)("section",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("h2",{className:"text-2xl font-bold text-gray-800 flex items-center",children:[(0,a.jsx)("span",{className:"bg-blue-100 text-blue-800 rounded-full w-8 h-8 flex items-center justify-center text-sm font-semibold mr-3",children:"\uD83D\uDCCB"}),"カテゴリ管理"]}),(0,a.jsxs)("button",{onClick:()=>o(!n),className:"px-4 py-2 rounded-lg font-medium transition-all flex items-center gap-2 ".concat(n?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-200 text-gray-700 hover:bg-gray-300"),children:[(0,a.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",className:"transition-transform ".concat(n?"rotate-180":""),children:(0,a.jsx)("path",{d:"M4 6l4 4 4-4H4z"})}),n?"非表示":"表示"]})]}),(0,a.jsxs)("span",{className:"text-sm text-gray-500 bg-gray-100 px-3 py-1 rounded-full",children:[i.length," 件"]})]}),!n&&i.length>0&&(0,a.jsx)("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:i.map((e,t)=>(0,a.jsxs)("span",{className:"bg-white text-gray-700 px-3 py-1 rounded-full text-sm border border-gray-200 flex items-center gap-2",children:[(0,a.jsx)("span",{className:"bg-gray-200 text-gray-600 rounded-full w-5 h-5 flex items-center justify-center text-xs font-semibold",children:t+1}),e.name]},e.id))})}),n&&(0,a.jsx)("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)("input",{type:"text",value:d,onChange:e=>g(e.target.value),className:"border border-gray-300 p-3 rounded-lg flex-1 focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all",placeholder:"新しいカテゴリ名を入力してください",onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),m())}}),(0,a.jsxs)("button",{onClick:m,disabled:!d.trim(),className:"bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-white px-6 py-3 rounded-lg font-medium transition-colors flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-lg",children:"＋"}),"追加"]})]})}),n&&0===i.length&&(0,a.jsxs)("div",{className:"text-center py-12 text-gray-500",children:[(0,a.jsx)("div",{className:"text-4xl mb-4",children:"\uD83D\uDCDD"}),(0,a.jsx)("p",{className:"text-lg mb-2",children:"カテゴリがまだありません"}),(0,a.jsx)("p",{className:"text-sm",children:"上のフォームから最初のカテゴリを追加してください"})]}),n&&0!==i.length&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"text-sm text-gray-600 mb-3 flex items-center gap-2",children:[(0,a.jsx)("span",{className:"bg-yellow-100 text-yellow-800 px-2 py-1 rounded text-xs font-medium",children:"\uD83D\uDCA1 ヒント"}),"ドラッグ&ドロップで順序を変更できます"]}),i.map((t,s)=>(0,a.jsxs)("div",{draggable:!0,onDragStart:e=>h(e,s),onDragOver:e=>y(e,s),onDragLeave:f,onDrop:e=>v(e,s),onDragEnd:N,className:"\n                flex items-center justify-between p-4 rounded-lg border-2 transition-all cursor-move\n                ".concat(e===s?"opacity-50 border-blue-400 bg-blue-50":r===s?"border-blue-400 bg-blue-50 scale-105":"border-gray-200 bg-white hover:bg-gray-50 hover:border-gray-300","\n              "),children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"text-gray-400 hover:text-gray-600 cursor-move",children:(0,a.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:[(0,a.jsx)("circle",{cx:"3",cy:"3",r:"1"}),(0,a.jsx)("circle",{cx:"3",cy:"8",r:"1"}),(0,a.jsx)("circle",{cx:"3",cy:"13",r:"1"}),(0,a.jsx)("circle",{cx:"8",cy:"3",r:"1"}),(0,a.jsx)("circle",{cx:"8",cy:"8",r:"1"}),(0,a.jsx)("circle",{cx:"8",cy:"13",r:"1"})]})}),(0,a.jsx)("div",{className:"bg-gray-100 text-gray-600 rounded-full w-8 h-8 flex items-center justify-center text-sm font-semibold",children:s+1}),(0,a.jsx)("span",{className:"font-medium text-gray-800 text-lg",children:t.name})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("div",{className:"flex gap-1 opacity-60",children:[(0,a.jsx)("button",{disabled:0===s,onClick:()=>u(s,"up"),className:"p-2 rounded-md transition-colors ".concat(0===s?"opacity-30 cursor-not-allowed":"hover:bg-gray-200 text-gray-600"),title:"上に移動",children:(0,a.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:(0,a.jsx)("path",{d:"M8 4l-4 4h8l-4-4z"})})}),(0,a.jsx)("button",{disabled:s===i.length-1,onClick:()=>u(s,"down"),className:"p-2 rounded-md transition-colors ".concat(s===i.length-1?"opacity-30 cursor-not-allowed":"hover:bg-gray-200 text-gray-600"),title:"下に移動",children:(0,a.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:(0,a.jsx)("path",{d:"M8 12l4-4H4l4 4z"})})})]}),(0,a.jsx)("button",{onClick:()=>w(t.id,t.name),className:"p-2 rounded-md text-red-600 hover:bg-red-50 hover:text-red-700 transition-colors",title:"削除",children:(0,a.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:[(0,a.jsx)("path",{d:"M6.5 1h3a.5.5 0 0 1 .5.5v1H6v-1a.5.5 0 0 1 .5-.5ZM11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3A1.5 1.5 0 0 0 5 1.5v1H2.5a.5.5 0 0 0 0 1h.538l.853 10.66A2 2 0 0 0 5.883 16h4.234a2 2 0 0 0 1.992-1.84L12.962 3.5h.538a.5.5 0 0 0 0-1H11Zm-9.5 1h9l-.84 10.5a1 1 0 0 1-.996.92H5.336a1 1 0 0 1-.996-.92L3.5 3.5Z"}),(0,a.jsx)("path",{d:"M6.5 5.5a.5.5 0 0 1 1 0v6a.5.5 0 0 1-1 0v-6Zm2 0a.5.5 0 0 1 1 0v6a.5.5 0 0 1-1 0v-6Z"})]})})]})]},t.id))]})]})},w=e=>{let{onCancel:t,isEditing:r,category:l,menu:n,onSubmitSuccess:o}=e,[i,c]=(0,s.useState)({id:(null==n?void 0:n.id)||0,categoryId:(null==n?void 0:n.categoryId)||l.id,name:(null==n?void 0:n.name)||"",price:(null==n?void 0:n.price)||0,stock:(null==n?void 0:n.stock)||0});return(0,a.jsxs)("div",{className:"flex flex-wrap md:flex-nowrap gap-3 items-end bg-gray-50 p-4 rounded-lg border border-gray-200 mb-3",children:[(0,a.jsx)("input",{type:"text",placeholder:"メニュー名",value:i.name,onChange:e=>c({...i,name:e.target.value}),className:"flex-1 min-w-[150px] border border-gray-300 p-2 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none"}),(0,a.jsx)("input",{type:"number",placeholder:"金額",value:i.price||"",onChange:e=>c({...i,price:Number(e.target.value)||0}),className:"w-28 border border-gray-300 p-2 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none"}),(0,a.jsx)("input",{type:"number",placeholder:"残数",value:i.stock||"",onChange:e=>c({...i,stock:Number(e.target.value)||0}),min:0,className:"w-28 border border-gray-300 p-2 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none"}),(0,a.jsx)("button",{onClick:()=>{if(!i.name||!i.price||!i.stock)return;let e={id:r?i.id:Date.now()+Math.random(),categoryName:l.name,categoryId:l.id,name:i.name,price:Number(i.price),stock:Number(i.stock)};console.log("Submitting menu data:",e),o(e)},disabled:!i.name||!i.price||!i.stock,className:"px-4 py-2 rounded-lg font-medium transition-colors flex items-center justify-center ".concat(i.name&&i.price&&i.stock?"bg-green-600 hover:bg-green-700 text-white":"bg-gray-300 text-white cursor-not-allowed"),children:r?"更新":"登録"}),(0,a.jsx)("button",{onClick:t,className:"text-sm text-gray-500 hover:text-gray-700 underline",children:"キャンセル"})]})},k=e=>{let{category:t}=e,[r,l]=(0,s.useState)(!1),[n,o]=(0,s.useState)(""),{menus:i,isLoaded:c,deleteMenu:d,updateMenu:g,addMenu:m}=(0,b.M)();if(!c)return(0,a.jsx)("div",{children:"Loading..."});let u=(Array.isArray(i)?i:[]).filter(e=>e.categoryId===t.id);return(0,a.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-5 mb-6 shadow-sm",children:[(0,a.jsxs)("h3",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center gap-3",children:[(0,a.jsx)("span",{className:"bg-blue-100 text-blue-700 rounded-full w-7 h-7 flex items-center justify-center text-sm font-semibold",children:"\uD83C\uDF7D"}),t.name,(0,a.jsxs)("span",{className:"text-sm text-gray-500 ml-auto",children:[u.length," 件のメニュー"]})]}),(0,a.jsx)("div",{className:"space-y-2",children:u.map(e=>n===e.id?(0,a.jsx)(w,{menu:e,category:t,onCancel:()=>o(""),isEditing:!0,onSubmitSuccess:e=>{console.log("Updating menu:",e),g(e),o("")}},e.id):(0,a.jsx)("div",{className:"bg-white border border-gray-200 rounded-lg px-4 py-4 hover:bg-gray-50 hover:shadow-sm transition-all duration-200",children:(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center gap-4",children:[(0,a.jsx)("div",{className:"flex-1 min-w-0",children:(0,a.jsx)("span",{className:"text-gray-800 font-semibold text-lg block truncate",children:e.name})}),(0,a.jsxs)("div",{className:"flex items-center gap-6 flex-shrink-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 min-w-0",children:[(0,a.jsx)("span",{className:"bg-green-100 text-green-800 text-xs font-medium px-2 py-1 rounded-full whitespace-nowrap",children:"価格"}),(0,a.jsxs)("span",{className:"text-green-700 font-bold text-lg whitespace-nowrap",children:["\xa5",e.price.toLocaleString()]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 min-w-0",children:[(0,a.jsx)("span",{className:"text-xs font-medium px-2 py-1 rounded-full whitespace-nowrap ".concat(e.stock>10?"bg-blue-100 text-blue-800":e.stock>5?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:"在庫"}),(0,a.jsxs)("span",{className:"font-bold text-lg whitespace-nowrap ".concat(e.stock>10?"text-blue-700":e.stock>5?"text-yellow-700":"text-red-700"),children:[e.stock,"個"]})]}),(0,a.jsxs)("div",{className:"flex gap-3 text-sm",children:[(0,a.jsx)("button",{onClick:()=>o(e.id),className:"px-3 py-2 bg-blue-50 text-blue-600 hover:bg-blue-100 hover:text-blue-800 font-medium rounded-lg transition-colors duration-200 border border-blue-200 whitespace-nowrap",children:"編集"}),(0,a.jsx)("button",{onClick:()=>d(e.id),className:"px-3 py-2 bg-red-50 text-red-600 hover:bg-red-100 hover:text-red-800 font-medium rounded-lg transition-colors duration-200 border border-red-200 whitespace-nowrap",children:"削除"})]})]})]})},e.id))}),(0,a.jsx)("div",{className:"mt-6",children:r?(0,a.jsx)(w,{category:t,onCancel:()=>l(!1),isEditing:!1,onSubmitSuccess:e=>{console.log("Adding menu:",e),m(e),l(!1)}}):(0,a.jsxs)("button",{onClick:()=>l(!0),className:"px-6 py-3 rounded-lg bg-blue-600 text-white font-medium hover:bg-blue-700 hover:shadow-md transition-all duration-200 flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-lg",children:"+"}),"メニューを追加"]})})]})},C=()=>{let{categories:e,menus:t}=(0,b.M)();return(0,a.jsxs)("section",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsxs)("h2",{className:"text-2xl font-bold text-gray-800 flex items-center",children:[(0,a.jsx)("span",{className:"bg-blue-100 text-blue-800 rounded-full w-8 h-8 flex items-center justify-center text-sm font-semibold mr-3",children:"\uD83C\uDF54"}),"メニュー登録"]}),(0,a.jsxs)("span",{className:"text-sm text-gray-500 bg-gray-100 px-3 py-1 rounded-full",children:[t.length," 件"]})]}),(0,a.jsxs)("div",{className:"text-sm text-gray-600 mb-4 flex items-center gap-2",children:[(0,a.jsx)("span",{className:"bg-yellow-100 text-yellow-800 px-2 py-1 rounded text-xs font-medium",children:"\uD83D\uDCA1 ヒント"}),"編集はエンターキーで続けて登録が行えます。"]}),0===e.length?(0,a.jsxs)("div",{className:"text-center py-12 text-gray-500 bg-gray-50 rounded-lg",children:[(0,a.jsx)("div",{className:"text-4xl mb-4",children:"\uD83D\uDCC2"}),(0,a.jsx)("p",{className:"text-lg mb-2",children:"カテゴリがまだありません"}),(0,a.jsx)("p",{className:"text-sm",children:"カテゴリ管理からカテゴリを追加してください"})]}):(0,a.jsx)("div",{className:"space-y-4",children:e.map(e=>(0,a.jsx)(k,{category:e},e.id))})]})};function I(){return(0,a.jsx)(n.$,{onClick:()=>{let e=function(){let e=l.Wp.json_to_sheet([{id:11,categoryId:1,categoryName:"くじ・遊び",name:"あてものや",price:250,stock:4},{id:21,categoryId:2,categoryName:"ソフトドリンク",name:"ラムネ",price:100,stock:5},{id:22,categoryId:2,categoryName:"ソフトドリンク",name:"お茶",price:100,stock:10},{id:23,categoryId:2,categoryName:"ソフトドリンク",name:"ジュース",price:120,stock:6},{id:24,categoryId:2,categoryName:"ソフトドリンク",name:"光るボトルジュース",price:400,stock:10},{id:31,categoryId:3,categoryName:"アルコール・カクテル",name:"ノンアルコールカクテル",price:150,stock:4},{id:32,categoryId:3,categoryName:"アルコール・カクテル",name:"ハイボール（缶）",price:170,stock:9},{id:33,categoryId:3,categoryName:"アルコール・カクテル",name:"生ビール",price:450,stock:40},{id:34,categoryId:3,categoryName:"アルコール・カクテル",name:"レモンサワー",price:350,stock:20},{id:41,categoryId:4,categoryName:"軽食",name:"おにぎり（ツナマヨ）",price:150,stock:5},{id:42,categoryId:4,categoryName:"軽食",name:"おにぎり（鮭）",price:150,stock:5},{id:43,categoryId:4,categoryName:"軽食",name:"焼きそば",price:350,stock:7},{id:44,categoryId:4,categoryName:"軽食",name:"ポテから",price:550,stock:7},{id:51,categoryId:5,categoryName:"スイーツ",name:"かき氷（いちご）",price:130,stock:10},{id:52,categoryId:5,categoryName:"スイーツ",name:"かき氷（ブルーハワイ）",price:130,stock:10},{id:53,categoryId:5,categoryName:"スイーツ",name:"かき氷（レモン）",price:130,stock:10},{id:61,categoryId:6,categoryName:"焼き鳥",name:"つくね（たれ）",price:380,stock:3},{id:62,categoryId:6,categoryName:"焼き鳥",name:"つくね（塩）",price:380,stock:3},{id:63,categoryId:6,categoryName:"焼き鳥",name:"とりもも（たれ）",price:470,stock:3},{id:64,categoryId:6,categoryName:"焼き鳥",name:"とりもも（塩）",price:470,stock:4},{id:65,categoryId:6,categoryName:"焼き鳥",name:"とり皮（たれ）",price:380,stock:4},{id:66,categoryId:6,categoryName:"焼き鳥",name:"とり皮（塩）",price:380,stock:3},{id:67,categoryId:6,categoryName:"焼き鳥",name:"タン（塩）",price:470,stock:2},{id:71,categoryId:7,categoryName:"肉料理",name:"肉巻きドッグ",price:480,stock:4},{id:72,categoryId:7,categoryName:"肉料理",name:"フランクフルト",price:330,stock:4},{id:73,categoryId:5,categoryName:"スイーツ",name:"シャーベットアイス",price:380,stock:5}]),t=l.Wp.book_new();return l.Wp.book_append_sheet(t,e,"メニュー"),new Blob([l.M9(t,{bookType:"xlsx",type:"array"})],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"})}(),t=URL.createObjectURL(e),r=document.createElement("a");r.href=t,r.download="menu_template.xlsx",r.click(),URL.revokeObjectURL(t)},className:"bg-green-500 hover:bg-green-700",children:"メニュー登録用ファイルのダウンロード"})}let A=()=>(0,a.jsxs)("div",{className:"max-w-4xl mx-auto p-6 space-y-10",children:[(0,a.jsx)(N,{}),(0,a.jsx)(C,{}),(0,a.jsx)(I,{}),(0,a.jsx)(f,{})]})},9434:(e,t,r)=>{"use strict";r.d(t,{cn:()=>l});var a=r(2596),s=r(9688);function l(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.QP)((0,a.$)(t))}}},e=>{var t=t=>e(e.s=t);e.O(0,[524,352,862,441,684,358],()=>t(1676)),_N_E=e.O()}]);