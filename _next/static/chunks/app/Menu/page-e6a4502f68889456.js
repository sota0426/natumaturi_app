(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[440],{115:(e,t,r)=>{"use strict";r.d(t,{M:()=>s});var a=r(2115);let s=()=>{let[e,t]=(0,a.useState)([]),[r,s]=(0,a.useState)([]),[n,l]=(0,a.useState)(!1);(0,a.useEffect)(()=>{try{let e=localStorage.getItem("categories"),r=localStorage.getItem("menus");if(e){let r=JSON.parse(e);t(Array.isArray(r)?r:[])}if(r){let e=JSON.parse(r);s(Array.isArray(e)?e:[])}}catch(e){console.error("Error loading data from localStorage:",e),t([]),s([])}finally{l(!0)}},[]);let i=(e,r)=>{try{localStorage.setItem("categories",JSON.stringify(e||[])),localStorage.setItem("menus",JSON.stringify(r||[])),t(Array.isArray(e)?e:[]),s(Array.isArray(r)?r:[])}catch(e){console.error("Error saving to localStorage:",e)}};return{categories:Array.isArray(e)?e:[],menus:Array.isArray(r)?r:[],isLoaded:n,setCategories:t,setMenus:s,saveToLocalStorage:i,addMenu:t=>{if(!t||!t.name||void 0===t.price)return void console.error("Invalid menu data for adding:",t);i(e,[...Array.isArray(r)?r:[],{...t,id:t.id||Date.now()+Math.random()}])},updateMenu:t=>{if(!t||void 0===t.id)return void console.error("Invalid menu data:",t);i(e,(Array.isArray(r)?r:[]).map(e=>e.id===t.id?{...e,...t}:e))},deleteMenu:t=>{if(null==t)return void console.error("Invalid menu ID for deletion:",t);i(e,(Array.isArray(r)?r:[]).filter(e=>e.id!==t))},addCategory:t=>{i([...Array.isArray(e)?e:[],t],r)},updateCategory:t=>{i((Array.isArray(e)?e:[]).map(e=>e.id===t.id?t:e),r)},deleteCategory:t=>{let a=Array.isArray(e)?e:[],s=Array.isArray(r)?r:[];i(a.filter(e=>e.id!==t),s.filter(e=>e.categoryId!==t))}}}},285:(e,t,r)=>{"use strict";r.d(t,{$:()=>o});var a=r(5155);r(2115);var s=r(9708),n=r(2085),l=r(9434);let i=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function o(e){let{className:t,variant:r,size:n,asChild:o=!1,...d}=e,c=o?s.DX:"button";return(0,a.jsx)(c,{"data-slot":"button",className:(0,l.cn)(i({variant:r,size:n,className:t})),...d})}},1676:(e,t,r)=>{Promise.resolve().then(r.bind(r,4015))},4015:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>A});var a=r(5155),s=r(2115),n=r(285),l=r(4862),i=r(9434);function o(e){let{...t}=e;return(0,a.jsx)(l.bL,{"data-slot":"alert-dialog",...t})}function d(e){let{...t}=e;return(0,a.jsx)(l.l9,{"data-slot":"alert-dialog-trigger",...t})}function c(e){let{...t}=e;return(0,a.jsx)(l.ZL,{"data-slot":"alert-dialog-portal",...t})}function g(e){let{className:t,...r}=e;return(0,a.jsx)(l.hJ,{"data-slot":"alert-dialog-overlay",className:(0,i.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...r})}function m(e){let{className:t,...r}=e;return(0,a.jsxs)(c,{children:[(0,a.jsx)(g,{}),(0,a.jsx)(l.UC,{"data-slot":"alert-dialog-content",className:(0,i.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...r})]})}function u(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"alert-dialog-header",className:(0,i.cn)("flex flex-col gap-2 text-center sm:text-left",t),...r})}function x(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"alert-dialog-footer",className:(0,i.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...r})}function h(e){let{className:t,...r}=e;return(0,a.jsx)(l.hE,{"data-slot":"alert-dialog-title",className:(0,i.cn)("text-lg font-semibold",t),...r})}function p(e){let{className:t,...r}=e;return(0,a.jsx)(l.VY,{"data-slot":"alert-dialog-description",className:(0,i.cn)("text-muted-foreground text-sm",t),...r})}let y=[{id:1,name:"くじ・遊び"},{id:2,name:"ソフトドリンク"},{id:3,name:"アルコール・カクテル"},{id:4,name:"軽食"},{id:5,name:"スイーツ"},{id:6,name:"焼き鳥"},{id:7,name:"屋台"}],b=[{id:11,categoryId:1,categoryName:"くじ・遊び",name:"あてものや",price:250,stock:10},{id:21,categoryId:2,categoryName:"ソフトドリンク",name:"ラムネ",price:100,stock:10},{id:22,categoryId:2,categoryName:"ソフトドリンク",name:"お茶",price:100,stock:10},{id:23,categoryId:2,categoryName:"ソフトドリンク",name:"ジュース",price:120,stock:10},{id:24,categoryId:2,categoryName:"ソフトドリンク",name:"光るボトル（カルピス）",price:400,stock:10},{id:25,categoryId:2,categoryName:"ソフトドリンク",name:"光るボトル（オレンジ）",price:400,stock:10},{id:26,categoryId:2,categoryName:"ソフトドリンク",name:"光るボトル（ぶどう）",price:400,stock:10},{id:31,categoryId:3,categoryName:"アルコール・カクテル",name:"ノンアルコールカクテル",price:150,stock:10},{id:32,categoryId:3,categoryName:"アルコール・カクテル",name:"ハイボール（缶）",price:170,stock:10},{id:33,categoryId:3,categoryName:"アルコール・カクテル",name:"生ビール",price:400,stock:10},{id:34,categoryId:3,categoryName:"アルコール・カクテル",name:"レモンサワー",price:300,stock:10},{id:41,categoryId:4,categoryName:"軽食",name:"おにぎり（ツナマヨ）",price:150,stock:10},{id:42,categoryId:4,categoryName:"軽食",name:"おにぎり（鮭）",price:150,stock:10},{id:43,categoryId:4,categoryName:"軽食",name:"焼きそば",price:350,stock:10},{id:44,categoryId:4,categoryName:"軽食",name:"ポテから",price:550,stock:10},{id:51,categoryId:5,categoryName:"スイーツ",name:"かき氷（いちご）",price:130,stock:10},{id:52,categoryId:5,categoryName:"スイーツ",name:"かき氷（ブルーハワイ）",price:130,stock:10},{id:53,categoryId:5,categoryName:"スイーツ",name:"かき氷（レモン）",price:130,stock:10},{id:61,categoryId:6,categoryName:"焼き鳥",name:"つくね（たれ）",price:380,stock:10},{id:62,categoryId:6,categoryName:"焼き鳥",name:"つくね（塩）",price:380,stock:10},{id:63,categoryId:6,categoryName:"焼き鳥",name:"とりもも（たれ）",price:470,stock:10},{id:64,categoryId:6,categoryName:"焼き鳥",name:"とりもも（塩）",price:470,stock:10},{id:65,categoryId:6,categoryName:"焼き鳥",name:"とり皮（たれ）",price:380,stock:10},{id:66,categoryId:6,categoryName:"焼き鳥",name:"とり皮（塩）",price:380,stock:10},{id:67,categoryId:6,categoryName:"焼き鳥",name:"タン（塩）",price:470,stock:10},{id:71,categoryId:7,categoryName:"肉料理",name:"肉巻きドッグ",price:480,stock:10},{id:72,categoryId:7,categoryName:"肉料理",name:"フランクフルト",price:330,stock:10},{id:73,categoryId:5,categoryName:"スイーツ",name:"シャーベットアイス",price:380,stock:10}];var f=r(115);function v(){let[e,t]=(0,s.useState)(!1),[r,l]=(0,s.useState)(!1),{setMenus:i,setCategories:c,saveToLocalStorage:g}=(0,f.M)(),v=async()=>{t(!0);try{g(y,b),c([...y]),i([...b])}catch(e){console.error("ローカル保存エラー:",e),alert("エラーが発生しました")}finally{t(!1),l(!1)}};return(0,a.jsxs)(o,{open:r,onOpenChange:l,children:[(0,a.jsx)(d,{asChild:!0,children:(0,a.jsx)(n.$,{disabled:e,children:"メニュー登録（初期化）"})}),(0,a.jsxs)(m,{children:[(0,a.jsxs)(u,{children:[(0,a.jsx)(h,{children:"確認"}),(0,a.jsx)(p,{children:"既存のメニューをすべて削除して、新しいデータで登録します。よろしいですか？"})]}),(0,a.jsxs)(x,{children:[(0,a.jsx)(n.$,{variant:"outline",onClick:()=>l(!1),children:"キャンセル"}),(0,a.jsx)(n.$,{onClick:v,disabled:e,children:e?"処理中...":"はい、実行します"})]})]})]})}let j=()=>{let{categories:e,menus:t,setCategories:r,setMenus:a,saveToLocalStorage:s}=(0,f.M)(),n=e=>e.map((e,t)=>({...e,id:t+1})),l=(e,t)=>{let l=n(e);r(l),a(t),s(l,t)};return{UpdateMenu:r=>{l(e,t.map(e=>e.id===r.id?{...r}:e))},UpdateAndSave:l,AddMenu:r=>{let{categoryId:a,name:s,price:n,stock:i}=r,o=e.find(e=>e.id===a);if(!o||!s.trim()||!n||!i)return;let d={id:(t.length?Math.max(...t.map(e=>e.id)):0)+1,categoryId:o.id,categoryName:o.name,name:s.trim(),price:n,stock:i};l(e,[...t,d])},DeleteMenu:r=>{l(e,t.filter(e=>e.id!==r))}}},N=(e,t)=>{let[r,a]=(0,s.useState)(""),{UpdateAndSave:n}=j();return{newCategory:r,setNewCategory:a,handleAddCategory:()=>{r&&!e.find(e=>e.name===r)&&(n([...e,{id:e.length+1,name:r}],t),a(""))},moveCategory:(r,a)=>{let s=[...e],l="up"===a?r-1:r+1;l<0||l>=s.length||([s[r],s[l]]=[s[l],s[r]],n(s,t))},handleDeleteCategory:r=>{n(e.filter(e=>e.id!==r),t.filter(e=>e.categoryId!==r))},handleReorderCategories:(r,a)=>{let s=[...e],[l]=s.splice(r,1);s.splice(a,0,l),n(s,t)}}},w=()=>{let[e,t]=(0,s.useState)(null),[r,n]=(0,s.useState)(null),[l,i]=(0,s.useState)(!1),{categories:o,menus:d}=(0,f.M)(),{newCategory:c,setNewCategory:g,handleAddCategory:m,moveCategory:u,handleDeleteCategory:x,handleReorderCategories:h}=N(o,d),p=(e,r)=>{t(r),e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/html","")},y=(e,t)=>{e.preventDefault(),e.dataTransfer.dropEffect="move",n(t)},b=()=>{n(null)},v=(r,a)=>{r.preventDefault(),null!==e&&e!==a&&h(e,a),t(null),n(null)},j=()=>{t(null),n(null)},w=(e,t)=>{window.confirm("カテゴリ「".concat(t,"」を削除しますか？\n※このカテゴリのメニューも削除されます。"))&&x(e)};return(0,a.jsxs)("section",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("h2",{className:"text-2xl font-bold text-gray-800 flex items-center",children:[(0,a.jsx)("span",{className:"bg-blue-100 text-blue-800 rounded-full w-8 h-8 flex items-center justify-center text-sm font-semibold mr-3",children:"\uD83D\uDCCB"}),"カテゴリ管理"]}),(0,a.jsxs)("button",{onClick:()=>i(!l),className:"px-4 py-2 rounded-lg font-medium transition-all flex items-center gap-2 ".concat(l?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-200 text-gray-700 hover:bg-gray-300"),children:[(0,a.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",className:"transition-transform ".concat(l?"rotate-180":""),children:(0,a.jsx)("path",{d:"M4 6l4 4 4-4H4z"})}),l?"非表示":"表示"]})]}),(0,a.jsxs)("span",{className:"text-sm text-gray-500 bg-gray-100 px-3 py-1 rounded-full",children:[o.length," 件"]})]}),!l&&o.length>0&&(0,a.jsx)("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:o.map((e,t)=>(0,a.jsxs)("span",{className:"bg-white text-gray-700 px-3 py-1 rounded-full text-sm border border-gray-200 flex items-center gap-2",children:[(0,a.jsx)("span",{className:"bg-gray-200 text-gray-600 rounded-full w-5 h-5 flex items-center justify-center text-xs font-semibold",children:t+1}),e.name]},e.id))})}),l&&(0,a.jsx)("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)("input",{type:"text",value:c,onChange:e=>g(e.target.value),className:"border border-gray-300 p-3 rounded-lg flex-1 focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all",placeholder:"新しいカテゴリ名を入力してください",onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),m())}}),(0,a.jsxs)("button",{onClick:m,disabled:!c.trim(),className:"bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-white px-6 py-3 rounded-lg font-medium transition-colors flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-lg",children:"＋"}),"追加"]})]})}),l&&0===o.length&&(0,a.jsxs)("div",{className:"text-center py-12 text-gray-500",children:[(0,a.jsx)("div",{className:"text-4xl mb-4",children:"\uD83D\uDCDD"}),(0,a.jsx)("p",{className:"text-lg mb-2",children:"カテゴリがまだありません"}),(0,a.jsx)("p",{className:"text-sm",children:"上のフォームから最初のカテゴリを追加してください"})]}),l&&0!==o.length&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"text-sm text-gray-600 mb-3 flex items-center gap-2",children:[(0,a.jsx)("span",{className:"bg-yellow-100 text-yellow-800 px-2 py-1 rounded text-xs font-medium",children:"\uD83D\uDCA1 ヒント"}),"ドラッグ&ドロップで順序を変更できます"]}),o.map((t,s)=>(0,a.jsxs)("div",{draggable:!0,onDragStart:e=>p(e,s),onDragOver:e=>y(e,s),onDragLeave:b,onDrop:e=>v(e,s),onDragEnd:j,className:"\n                flex items-center justify-between p-4 rounded-lg border-2 transition-all cursor-move\n                ".concat(e===s?"opacity-50 border-blue-400 bg-blue-50":r===s?"border-blue-400 bg-blue-50 scale-105":"border-gray-200 bg-white hover:bg-gray-50 hover:border-gray-300","\n              "),children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"text-gray-400 hover:text-gray-600 cursor-move",children:(0,a.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:[(0,a.jsx)("circle",{cx:"3",cy:"3",r:"1"}),(0,a.jsx)("circle",{cx:"3",cy:"8",r:"1"}),(0,a.jsx)("circle",{cx:"3",cy:"13",r:"1"}),(0,a.jsx)("circle",{cx:"8",cy:"3",r:"1"}),(0,a.jsx)("circle",{cx:"8",cy:"8",r:"1"}),(0,a.jsx)("circle",{cx:"8",cy:"13",r:"1"})]})}),(0,a.jsx)("div",{className:"bg-gray-100 text-gray-600 rounded-full w-8 h-8 flex items-center justify-center text-sm font-semibold",children:s+1}),(0,a.jsx)("span",{className:"font-medium text-gray-800 text-lg",children:t.name})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("div",{className:"flex gap-1 opacity-60",children:[(0,a.jsx)("button",{disabled:0===s,onClick:()=>u(s,"up"),className:"p-2 rounded-md transition-colors ".concat(0===s?"opacity-30 cursor-not-allowed":"hover:bg-gray-200 text-gray-600"),title:"上に移動",children:(0,a.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:(0,a.jsx)("path",{d:"M8 4l-4 4h8l-4-4z"})})}),(0,a.jsx)("button",{disabled:s===o.length-1,onClick:()=>u(s,"down"),className:"p-2 rounded-md transition-colors ".concat(s===o.length-1?"opacity-30 cursor-not-allowed":"hover:bg-gray-200 text-gray-600"),title:"下に移動",children:(0,a.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:(0,a.jsx)("path",{d:"M8 12l4-4H4l4 4z"})})})]}),(0,a.jsx)("button",{onClick:()=>w(t.id,t.name),className:"p-2 rounded-md text-red-600 hover:bg-red-50 hover:text-red-700 transition-colors",title:"削除",children:(0,a.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:[(0,a.jsx)("path",{d:"M6.5 1h3a.5.5 0 0 1 .5.5v1H6v-1a.5.5 0 0 1 .5-.5ZM11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3A1.5 1.5 0 0 0 5 1.5v1H2.5a.5.5 0 0 0 0 1h.538l.853 10.66A2 2 0 0 0 5.883 16h4.234a2 2 0 0 0 1.992-1.84L12.962 3.5h.538a.5.5 0 0 0 0-1H11Zm-9.5 1h9l-.84 10.5a1 1 0 0 1-.996.92H5.336a1 1 0 0 1-.996-.92L3.5 3.5Z"}),(0,a.jsx)("path",{d:"M6.5 5.5a.5.5 0 0 1 1 0v6a.5.5 0 0 1-1 0v-6Zm2 0a.5.5 0 0 1 1 0v6a.5.5 0 0 1-1 0v-6Z"})]})})]})]},t.id))]})]})},k=e=>{let{onCancel:t,isEditing:r,category:n,menu:l,onSubmitSuccess:i}=e,[o,d]=(0,s.useState)({id:(null==l?void 0:l.id)||0,categoryId:(null==l?void 0:l.categoryId)||n.id,name:(null==l?void 0:l.name)||"",price:(null==l?void 0:l.price)||0,stock:(null==l?void 0:l.stock)||0});return(0,a.jsxs)("div",{className:"flex flex-wrap md:flex-nowrap gap-3 items-end bg-gray-50 p-4 rounded-lg border border-gray-200 mb-3",children:[(0,a.jsx)("input",{type:"text",placeholder:"メニュー名",value:o.name,onChange:e=>d({...o,name:e.target.value}),className:"flex-1 min-w-[150px] border border-gray-300 p-2 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none"}),(0,a.jsx)("input",{type:"number",placeholder:"金額",value:o.price||"",onChange:e=>d({...o,price:Number(e.target.value)||0}),className:"w-28 border border-gray-300 p-2 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none"}),(0,a.jsx)("input",{type:"number",placeholder:"残数",value:o.stock||"",onChange:e=>d({...o,stock:Number(e.target.value)||0}),min:0,className:"w-28 border border-gray-300 p-2 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none"}),(0,a.jsx)("button",{onClick:()=>{if(!o.name||!o.price||!o.stock)return;let e={id:r?o.id:Date.now()+Math.random(),categoryName:n.name,categoryId:n.id,name:o.name,price:Number(o.price),stock:Number(o.stock)};console.log("Submitting menu data:",e),i(e)},disabled:!o.name||!o.price||!o.stock,className:"px-4 py-2 rounded-lg font-medium transition-colors flex items-center justify-center ".concat(o.name&&o.price&&o.stock?"bg-green-600 hover:bg-green-700 text-white":"bg-gray-300 text-white cursor-not-allowed"),children:r?"更新":"登録"}),(0,a.jsx)("button",{onClick:t,className:"text-sm text-gray-500 hover:text-gray-700 underline",children:"キャンセル"})]})},C=e=>{let{category:t}=e,[r,n]=(0,s.useState)(!1),[l,i]=(0,s.useState)(""),{menus:o,categories:d,isLoaded:c,deleteMenu:g,updateMenu:m,addMenu:u}=(0,f.M)();if(!c)return(0,a.jsx)("div",{children:"Loading..."});let x=(Array.isArray(o)?o:[]).filter(e=>e.categoryId===t.id);return(0,a.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-5 mb-6 shadow-sm",children:[(0,a.jsxs)("h3",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center gap-3",children:[(0,a.jsx)("span",{className:"bg-blue-100 text-blue-700 rounded-full w-7 h-7 flex items-center justify-center text-sm font-semibold",children:"\uD83C\uDF7D"}),t.name,(0,a.jsxs)("span",{className:"text-sm text-gray-500 ml-auto",children:[x.length," 件のメニュー"]})]}),(0,a.jsx)("div",{className:"space-y-2",children:x.map(e=>l===e.id?(0,a.jsx)(k,{menu:e,category:t,onCancel:()=>i(""),isEditing:!0,onSubmitSuccess:e=>{console.log("Updating menu:",e),m(e),i("")}},e.id):(0,a.jsx)("div",{className:"bg-white border border-gray-200 rounded-lg px-4 py-4 hover:bg-gray-50 hover:shadow-sm transition-all duration-200",children:(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center gap-4",children:[(0,a.jsx)("div",{className:"flex-1 min-w-0",children:(0,a.jsx)("span",{className:"text-gray-800 font-semibold text-lg block truncate",children:e.name})}),(0,a.jsxs)("div",{className:"flex items-center gap-6 flex-shrink-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 min-w-0",children:[(0,a.jsx)("span",{className:"bg-green-100 text-green-800 text-xs font-medium px-2 py-1 rounded-full whitespace-nowrap",children:"価格"}),(0,a.jsxs)("span",{className:"text-green-700 font-bold text-lg whitespace-nowrap",children:["\xa5",e.price.toLocaleString()]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 min-w-0",children:[(0,a.jsx)("span",{className:"text-xs font-medium px-2 py-1 rounded-full whitespace-nowrap ".concat(e.stock>10?"bg-blue-100 text-blue-800":e.stock>5?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:"在庫"}),(0,a.jsxs)("span",{className:"font-bold text-lg whitespace-nowrap ".concat(e.stock>10?"text-blue-700":e.stock>5?"text-yellow-700":"text-red-700"),children:[e.stock,"個"]})]}),(0,a.jsxs)("div",{className:"flex gap-3 text-sm",children:[(0,a.jsx)("button",{onClick:()=>i(e.id),className:"px-3 py-2 bg-blue-50 text-blue-600 hover:bg-blue-100 hover:text-blue-800 font-medium rounded-lg transition-colors duration-200 border border-blue-200 whitespace-nowrap",children:"編集"}),(0,a.jsx)("button",{onClick:()=>g(e.id),className:"px-3 py-2 bg-red-50 text-red-600 hover:bg-red-100 hover:text-red-800 font-medium rounded-lg transition-colors duration-200 border border-red-200 whitespace-nowrap",children:"削除"})]})]})]})},e.id))}),(0,a.jsx)("div",{className:"mt-6",children:r?(0,a.jsx)(k,{category:t,onCancel:()=>n(!1),isEditing:!1,onSubmitSuccess:e=>{console.log("Adding menu:",e),u(e),n(!1)}}):(0,a.jsxs)("button",{onClick:()=>n(!0),className:"px-6 py-3 rounded-lg bg-blue-600 text-white font-medium hover:bg-blue-700 hover:shadow-md transition-all duration-200 flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-lg",children:"+"}),"メニューを追加"]})})]})},I=()=>{let{categories:e,menus:t}=(0,f.M)();return(0,a.jsxs)("section",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsxs)("h2",{className:"text-2xl font-bold text-gray-800 flex items-center",children:[(0,a.jsx)("span",{className:"bg-blue-100 text-blue-800 rounded-full w-8 h-8 flex items-center justify-center text-sm font-semibold mr-3",children:"\uD83C\uDF54"}),"メニュー登録"]}),(0,a.jsxs)("span",{className:"text-sm text-gray-500 bg-gray-100 px-3 py-1 rounded-full",children:[t.length," 件"]})]}),(0,a.jsxs)("div",{className:"text-sm text-gray-600 mb-4 flex items-center gap-2",children:[(0,a.jsx)("span",{className:"bg-yellow-100 text-yellow-800 px-2 py-1 rounded text-xs font-medium",children:"\uD83D\uDCA1 ヒント"}),"編集はエンターキーで続けて登録が行えます。"]}),0===e.length?(0,a.jsxs)("div",{className:"text-center py-12 text-gray-500 bg-gray-50 rounded-lg",children:[(0,a.jsx)("div",{className:"text-4xl mb-4",children:"\uD83D\uDCC2"}),(0,a.jsx)("p",{className:"text-lg mb-2",children:"カテゴリがまだありません"}),(0,a.jsx)("p",{className:"text-sm",children:"カテゴリ管理からカテゴリを追加してください"})]}):(0,a.jsx)("div",{className:"space-y-4",children:e.map(e=>(0,a.jsx)(C,{category:e},e.id))})]})},A=()=>(0,a.jsxs)("div",{className:"max-w-4xl mx-auto p-6 space-y-10",children:[(0,a.jsx)(w,{}),(0,a.jsx)(I,{}),(0,a.jsx)(v,{})]})},9434:(e,t,r)=>{"use strict";r.d(t,{cn:()=>n});var a=r(2596),s=r(9688);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.QP)((0,a.$)(t))}}},e=>{var t=t=>e(e.s=t);e.O(0,[352,862,441,684,358],()=>t(1676)),_N_E=e.O()}]);